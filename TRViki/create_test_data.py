import os
import django
from datetime import date

# Настройка окружения Django
os.environ.setdefault('DJANGO_SETTINGS_MODULE', 'TRViki.settings')
django.setup()

# Импорт моделей
from blog.models import Post

# Удаление всех существующих постов
Post.objects.all().delete()

# Создание тестовых постов
test_posts = [
    {
        'title': 'Добро пожаловать на ТР Вики',
        'description': '''Приветствуем вас на нашем новом сайте! Здесь вы найдете много интересной и полезной информации.
        
        Мы регулярно будем обновлять содержимое сайта и добавлять новые материалы.''',
        'author': 'Администратор',
        'date': date.today(),
    },
    {
        'title': 'Что такое Django',
        'description': '''Django - это высокоуровневый веб-фреймворк на Python, который способствует быстрой разработке и чистому, прагматичному дизайну.
        
        Django создан опытными разработчиками и решает многие проблемы веб-разработки, поэтому вы можете сосредоточиться на написании своего приложения, не изобретая велосипед. Django бесплатный и с открытым исходным кодом.''',
        'author': 'Программист',
        'date': date.today(),
    },
    {
        'title': 'Основы HTML и CSS',
        'description': '''HTML (HyperText Markup Language) - стандартизированный язык разметки документов для просмотра веб-страниц в браузере.
        
        CSS (Cascading Style Sheets) - формальный язык описания внешнего вида документа, написанного с использованием языка разметки. CSS используется создателями веб-страниц для задания цветов, шрифтов, стилей, расположения отдельных блоков и других аспектов представления внешнего вида веб-страниц.''',
        'author': 'Веб-дизайнер',
        'date': date.today(),
    },
]

# Добавление тестовых постов в базу данных
for post_data in test_posts:
    Post.objects.create(**post_data)

print(f'Создано {len(test_posts)} тестовых постов.') 